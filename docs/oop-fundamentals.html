<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 30 OOP Fundamentals | Python Tutorial</title>
<meta name="author" content="Hank Lee">
<meta name="description" content="30.1 What is OOP? OOP是一種programming的設計思維，他以object為coding的最小單位。 那到底什麼是object？要回答這個問題，我們要先學會什麼是class。...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 30 OOP Fundamentals | Python Tutorial">
<meta property="og:type" content="book">
<meta property="og:description" content="30.1 What is OOP? OOP是一種programming的設計思維，他以object為coding的最小單位。 那到底什麼是object？要回答這個問題，我們要先學會什麼是class。...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 30 OOP Fundamentals | Python Tutorial">
<meta name="twitter:description" content="30.1 What is OOP? OOP是一種programming的設計思維，他以object為coding的最小單位。 那到底什麼是object？要回答這個問題，我們要先學會什麼是class。...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Python Tutorial</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li class="book-part">環境設置與執行</li>
<li><a class="" href="python-environmental-setting.html"><span class="header-section-number">1</span> Python Environmental Setting</a></li>
<li><a class="" href="%E5%9F%B7%E8%A1%8Cpython%E7%9A%84code.html"><span class="header-section-number">2</span> 執行Python的code</a></li>
<li><a class="" href="%E8%A8%BB%E8%A7%A3%E8%88%87indention.html"><span class="header-section-number">3</span> 註解與indention</a></li>
<li><a class="" href="print.html"><span class="header-section-number">4</span> print</a></li>
<li><a class="" href="variables.html"><span class="header-section-number">5</span> Variables</a></li>
<li class="book-part">Python Basic Data Types</li>
<li><a class="" href="python-data-types.html"><span class="header-section-number">6</span> Python Data Types</a></li>
<li><a class="" href="int-float-%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">7</span> int &amp; float 整理與實戰</a></li>
<li><a class="" href="string%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">8</span> string整理與實戰</a></li>
<li class="book-part">Python Collections</li>
<li><a class="" href="collections-overview.html"><span class="header-section-number">9</span> collections overview</a></li>
<li><a class="" href="list%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">10</span> list整理與實戰</a></li>
<li><a class="" href="tuple%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">11</span> tuple整理與實戰</a></li>
<li><a class="" href="dictionary%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">12</span> dictionary整理與實戰</a></li>
<li><a class="" href="set%E6%87%89%E7%94%A8%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">13</span> set應用實戰</a></li>
<li class="book-part">條件判斷</li>
<li><a class="" href="none.html"><span class="header-section-number">14</span> None</a></li>
<li><a class="" href="boolean%E6%95%B4%E7%90%86%E8%88%87%E5%AF%A6%E6%88%B0.html"><span class="header-section-number">15</span> boolean整理與實戰</a></li>
<li><a class="" href="conditional-operators.html"><span class="header-section-number">16</span> Conditional Operators</a></li>
<li><a class="" href="if-statement.html"><span class="header-section-number">17</span> If statement</a></li>
<li class="book-part">Loops</li>
<li><a class="" href="for-loop.html"><span class="header-section-number">18</span> for loop</a></li>
<li><a class="" href="while-loop.html"><span class="header-section-number">19</span> while loop</a></li>
<li class="book-part">Functions</li>
<li><a class="" href="function101.html"><span class="header-section-number">20</span> function101</a></li>
<li><a class="" href="exception-handling.html"><span class="header-section-number">21</span> Exception Handling</a></li>
<li><a class="" href="flexible-arguments.html"><span class="header-section-number">22</span> flexible arguments</a></li>
<li><a class="" href="recursion.html"><span class="header-section-number">23</span> recursion</a></li>
<li><a class="" href="function%E5%B0%B1%E6%98%AF%E5%8F%A6%E4%B8%80%E7%A8%AEtype%E7%9A%84object.html"><span class="header-section-number">24</span> Function就是另一種type的object</a></li>
<li><a class="" href="nested-function.html"><span class="header-section-number">25</span> Nested Function</a></li>
<li><a class="" href="variable-scope-1.html"><span class="header-section-number">26</span> Variable Scope</a></li>
<li><a class="" href="closure.html"><span class="header-section-number">27</span> closure</a></li>
<li><a class="" href="decorator.html"><span class="header-section-number">28</span> decorator</a></li>
<li><a class="" href="functional-programming.html"><span class="header-section-number">29</span> functional programming</a></li>
<li class="book-part">Object Oriented Programming</li>
<li><a class="active" href="oop-fundamentals.html"><span class="header-section-number">30</span> OOP Fundamentals</a></li>
<li><a class="" href="class-level-vs-instance-level.html"><span class="header-section-number">31</span> Class-level vs Instance-level</a></li>
<li><a class="" href="attribute-protection.html"><span class="header-section-number">32</span> Attribute Protection</a></li>
<li><a class="" href="isinstance-equality-%E8%88%87-string-representation.html"><span class="header-section-number">33</span> isinstance, equality, 與 string representation</a></li>
<li><a class="" href="encapsulation-inheritacne-and-polymorphism.html"><span class="header-section-number">34</span> Encapsulation, Inheritacne, and Polymorphism</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rstudio/bookdown-demo">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="oop-fundamentals" class="section level1" number="30">
<h1>
<span class="header-section-number">30</span> OOP Fundamentals<a class="anchor" aria-label="anchor" href="#oop-fundamentals"><i class="fas fa-link"></i></a>
</h1>
<div id="what-is-oop" class="section level2" number="30.1">
<h2>
<span class="header-section-number">30.1</span> What is OOP?<a class="anchor" aria-label="anchor" href="#what-is-oop"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>OOP是一種programming的設計思維，他以object為coding的最小單位。<br></p></li>
<li><p>那到底什麼是object？要回答這個問題，我們要先學會什麼是class。<br></p></li>
<li><p>之前在寫code的時候，我們都會命名出很多variable，那現在，我們用分類問題的角度去想，是不是某一群variable，可以一起被歸為一類？如果可以的話，那我要要定義的，就不會是一個variable，而是要定義出一種類別(class)！</p></li>
<li><p>舉例來說，今天我想定義出顧客(Customer)這個class，那我該怎麼定義呢？我們會用state和behavior這兩個方向來定義一個class。</p></li>
<li><p>state指的是這個class所具備的特徵，behavior是指這個class所能施展的行為。<br></p></li>
<li><p>所以，回到顧客這個class的例子，state我就可以定義成email和phone這兩個特徵(因為每個顧客，應該都具備這兩個特徵)，behavior我就定義成”跟我下單”和”跟我取消訂單”這兩種行為。那做到這邊，我就算完成了Customer class的定義。</p></li>
<li><p>接下來，我只要填入state特定的value，就可以realize出各式各樣的客戶。例如我想realize出A客戶，那我就把A客戶的email和phone填入就好。而這樣realize完後，我們就稱這個A客戶是一個object。此時，我們知道他的states(email和phone都有)，也知道他有可能對我們施展的behavior(下訂單 &amp; 取消訂單)</p></li>
<li><p>所以，我可以realize各式各樣的object with specific state value(在此例，就是realize各式各樣的客戶)</p></li>
<li><div class="inline-figure">以圖來描述，可以畫成下面這張圖：
<img src="images/class&amp;object.png" width="477">
</div></li>
<li>
<p>所以總結一下，Class和Object可以這樣定義：</p>
<ul>
<li>
<strong>Class</strong> 就是一個object製造機，他是一個抽象的概念。這個製造機像個藍圖一樣，告訴我們怎麼具體化一個實例(instance)出來。而藍圖裡面寫的東西，就是有關這個class該有的<em>states</em>以及<em>behavior</em>.<br>
</li>
<li>
<strong>Object</strong> 就是instance，他是該class所建造出來的一個具體實例。</li>
</ul>
</li>
<li><p>與OOP對比的另一種設計思維，是R的procedural programming。R code的寫法，就像一步又一步的步驟，把結果給做出來。</p></li>
<li><p>但OOP不是這樣，OOP的寫法強調的不是步驟，而是object間的互動(e.g. 繼承/多形)。兩者的比較如下表：</p></li>
</ul>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="47%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>Procedural programming</th>
<th>Object-oriented programming</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Code as a sequence of steps</td>
<td><strong>Code as interactions of objects</strong></td>
</tr>
<tr class="even">
<td>Great for data analysis and scripts</td>
<td>Great for building frameworks and tools</td>
</tr>
<tr class="odd">
<td></td>
<td><em>Maintainable and reusable code</em></td>
</tr>
</tbody>
</table></div>
</div>
<div id="oop-in-python" class="section level2" number="30.2">
<h2>
<span class="header-section-number">30.2</span> OOP in Python<a class="anchor" aria-label="anchor" href="#oop-in-python"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>在python裡面，所有東西，都是object!!<br>
</li>
<li>例如，你隨便key個6，6就是一個object，你只要把它存成變數，就可以看到他所屬的class</li>
</ul>
<div class="sourceCode" id="cb335"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb335-1"><a href="oop-fundamentals.html#cb335-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">6</span></span>
<span id="cb335-2"><a href="oop-fundamentals.html#cb335-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(a)) <span class="co">#class</span></span>
<span id="cb335-3"><a href="oop-fundamentals.html#cb335-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;class 'int'&gt;</span></span></code></pre></div>
<ul>
<li>
<p>隨便整理python裡面的各式各樣object，以及他所屬的class:</p>
<table style="width:97%;" class="table table-sm">
<colgroup>
<col width="33%">
<col width="30%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Object</th>
<th>Class</th>
<th>remark</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>5</td>
<td>int</td>
<td></td>
</tr>
<tr class="even">
<td>“Hello”</td>
<td>str</td>
<td></td>
</tr>
<tr class="odd">
<td>pd.DataFrame()</td>
<td>DataFrame</td>
<td></td>
</tr>
<tr class="even">
<td>np.mean</td>
<td>function</td>
<td></td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>既然所有東西都是object，那我應該有他的state和behavior訊息吧？在python中，state的訊息，被存在attribute中，behavior的訊息，被存在method中。</p>
<ul>
<li>
<strong>Attributes</strong> encode the state of an object and are represented by variables. 例如，<code>.shape</code>就是numpy.ndarray object的一個attribute，注意到他是用variable的形式存在的，所以shape後面沒有括號。</li>
<li>
<strong>Methods</strong> encode behavior of an object and are represented by functions. 例如，<code>.reshape()</code>就是numpy.ndarray的method。注意到他是用function的形式存在的，所以會看到括號，括號內也可能要輸入argument</li>
</ul>
</li>
<li><p>來看個numpy object例子：</p></li>
</ul>
<div class="sourceCode" id="cb336"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb336-1"><a href="oop-fundamentals.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb336-2"><a href="oop-fundamentals.html#cb336-2" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.array([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>])</span>
<span id="cb336-3"><a href="oop-fundamentals.html#cb336-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 看a是哪種class</span></span>
<span id="cb336-4"><a href="oop-fundamentals.html#cb336-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(a))</span>
<span id="cb336-5"><a href="oop-fundamentals.html#cb336-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; &lt;class 'numpy.ndarray'&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb337"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb337-1"><a href="oop-fundamentals.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># shape attribute</span></span>
<span id="cb337-2"><a href="oop-fundamentals.html#cb337-2" aria-hidden="true" tabindex="-1"></a>a.shape</span>
<span id="cb337-3"><a href="oop-fundamentals.html#cb337-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (4,)</span></span></code></pre></div>
<div class="sourceCode" id="cb338"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb338-1"><a href="oop-fundamentals.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reshape method</span></span>
<span id="cb338-2"><a href="oop-fundamentals.html#cb338-2" aria-hidden="true" tabindex="-1"></a>a.reshape(<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb338-3"><a href="oop-fundamentals.html#cb338-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; array([[1, 2],</span></span>
<span id="cb338-4"><a href="oop-fundamentals.html#cb338-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        [3, 4]])</span></span></code></pre></div>
<ul>
<li>最後，提醒一下，一個程式語言可以是OOP，或是procedural，或是both。例如Python就是both，我們可以用procedural的寫法，一步一步的做完data analysis，但也可以用OOP的寫法來做。R也是如此，只是R的OOP要借助第三方套件<code>R6</code>
</li>
</ul>
</div>
<div id="my-first-class" class="section level2" number="30.3">
<h2>
<span class="header-section-number">30.3</span> My first class<a class="anchor" aria-label="anchor" href="#my-first-class"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>開始來寫我的第一個class，就用剛剛customer的例子</li>
</ul>
<div class="sourceCode" id="cb339"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb339-1"><a href="oop-fundamentals.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Customer_old:</span>
<span id="cb339-2"><a href="oop-fundamentals.html#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb339-3"><a href="oop-fundamentals.html#cb339-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb339-4"><a href="oop-fundamentals.html#cb339-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mehod: function definition within class</span></span>
<span id="cb339-5"><a href="oop-fundamentals.html#cb339-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#        use 'self' as the first argument</span></span>
<span id="cb339-6"><a href="oop-fundamentals.html#cb339-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> identify(<span class="va">self</span>, name):</span>
<span id="cb339-7"><a href="oop-fundamentals.html#cb339-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"I am Customer "</span> <span class="op">+</span> name)</span></code></pre></div>
<ul>
<li>上面這個例子，我們最一開始就宣告他是個class</li>
<li>接著，分別定義attribute和method</li>
<li>我們先看method的部分就好。這個method，其實就是我們寫過的function，只是第一個參數要幫他寫`self`，這是規定的，原因等等會談。</li>
<li>這樣就算定義完Customer這個class了。我要realize他的話，我就直接call他，並assign到一個variable上，也就是<code>cust1 = Customer()</code>。此時，cust1被我們稱為<em>instance</em>。然後，我就可以使用他的method了。例如：</li>
</ul>
<div class="sourceCode" id="cb340"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb340-1"><a href="oop-fundamentals.html#cb340-1" aria-hidden="true" tabindex="-1"></a>cust1 <span class="op">=</span> Customer_old()</span>
<span id="cb340-2"><a href="oop-fundamentals.html#cb340-2" aria-hidden="true" tabindex="-1"></a>cust1.identify(<span class="st">"Laura"</span>)</span>
<span id="cb340-3"><a href="oop-fundamentals.html#cb340-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; I am Customer Laura</span></span></code></pre></div>
<ul>
<li><p>那現在回過頭來看，<code>self</code>到底是啥<br></p></li>
<li><p>我們知道class只是一個template，他需要refer data of a particular object。而這個self，就是這個particular object的代名詞。<br></p></li>
<li><p>以剛剛的例子來說，這個particular object就是我的cust1，而self就會是cust1的代名詞，所以當我們寫<code>cust1.identify("Laura")</code>的時候，其實python在內部的翻譯是<code>Customer.identify(cust1, "Laura")</code>，也就是說，我要用Customer這個class裡的identify method，然後第一個argument是指我要refer to cust1這個particular object。</p></li>
<li><p>nice，現在我們把attribute捕進去，並且稍微改寫method的地方，變成以下這樣：</p></li>
</ul>
<div class="sourceCode" id="cb341"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb341-1"><a href="oop-fundamentals.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Customer_new:</span>
<span id="cb341-2"><a href="oop-fundamentals.html#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb341-3"><a href="oop-fundamentals.html#cb341-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># set the name attribute of an object to new_name</span></span>
<span id="cb341-4"><a href="oop-fundamentals.html#cb341-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_name(<span class="va">self</span>, new_name):</span>
<span id="cb341-5"><a href="oop-fundamentals.html#cb341-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create an attribute by assigning a value</span></span>
<span id="cb341-6"><a href="oop-fundamentals.html#cb341-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> new_name <span class="co"># &lt;- will create .name when set_name is called</span></span>
<span id="cb341-7"><a href="oop-fundamentals.html#cb341-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb341-8"><a href="oop-fundamentals.html#cb341-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mehod: function definition within class</span></span>
<span id="cb341-9"><a href="oop-fundamentals.html#cb341-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#        use 'self' as the first argument</span></span>
<span id="cb341-10"><a href="oop-fundamentals.html#cb341-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> identify(<span class="va">self</span>):</span>
<span id="cb341-11"><a href="oop-fundamentals.html#cb341-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"I am Customer "</span> <span class="op">+</span> <span class="va">self</span>.name)</span></code></pre></div>
<ul>
<li>可以看到在attribute的地方，也是用定義funciton的方式去寫，但function body是直接用assign變數的方式，把他assign到self下面。實際使用時，變成以下這樣：</li>
</ul>
<div class="sourceCode" id="cb342"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb342-1"><a href="oop-fundamentals.html#cb342-1" aria-hidden="true" tabindex="-1"></a>cust2 <span class="op">=</span> Customer_new() <span class="co"># &lt;- .name doesn't exist here yet</span></span>
<span id="cb342-2"><a href="oop-fundamentals.html#cb342-2" aria-hidden="true" tabindex="-1"></a>cust2.set_name(<span class="st">"Lara de Silva"</span>) <span class="co"># &lt;- .name is created and set to "Lara de Silva"</span></span>
<span id="cb342-3"><a href="oop-fundamentals.html#cb342-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cust2.name)</span>
<span id="cb342-4"><a href="oop-fundamentals.html#cb342-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Lara de Silva</span></span>
<span id="cb342-5"><a href="oop-fundamentals.html#cb342-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cust2.identify())</span>
<span id="cb342-6"><a href="oop-fundamentals.html#cb342-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; I am Customer Lara de Silva</span></span>
<span id="cb342-7"><a href="oop-fundamentals.html#cb342-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; None</span></span></code></pre></div>
<ul>
<li><p>快速的來個類似的練習，我現在想定義Employee這個class，然後這個class的state包括name和salary(合理嘛，描述一個employee的狀態，就用名字和薪水這樣)。接著，我要realize出第一位員工，他的名字叫”Korel Rossi”，他的薪水是50000</p></li>
<li><p>第一步，定義出此class，以及所屬attribute</p></li>
</ul>
<div class="sourceCode" id="cb343"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb343-1"><a href="oop-fundamentals.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb343-2"><a href="oop-fundamentals.html#cb343-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb343-3"><a href="oop-fundamentals.html#cb343-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb343-4"><a href="oop-fundamentals.html#cb343-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_name(<span class="va">self</span>, new_name):</span>
<span id="cb343-5"><a href="oop-fundamentals.html#cb343-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> new_name</span>
<span id="cb343-6"><a href="oop-fundamentals.html#cb343-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb343-7"><a href="oop-fundamentals.html#cb343-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_salary(<span class="va">self</span>, new_salary):</span>
<span id="cb343-8"><a href="oop-fundamentals.html#cb343-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.salary <span class="op">=</span> new_salary</span></code></pre></div>
<ul>
<li>第二步，realize出這位員工</li>
</ul>
<div class="sourceCode" id="cb344"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb344-1"><a href="oop-fundamentals.html#cb344-1" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee()</span>
<span id="cb344-2"><a href="oop-fundamentals.html#cb344-2" aria-hidden="true" tabindex="-1"></a>emp.set_name(<span class="st">'Korel Rossi'</span>)</span>
<span id="cb344-3"><a href="oop-fundamentals.html#cb344-3" aria-hidden="true" tabindex="-1"></a>emp.set_salary(<span class="dv">50000</span>)</span></code></pre></div>
<ul>
<li>第三步，看看這員工的attribute是不是設對了</li>
</ul>
<div class="sourceCode" id="cb345"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb345-1"><a href="oop-fundamentals.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.name)</span>
<span id="cb345-2"><a href="oop-fundamentals.html#cb345-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Korel Rossi</span></span>
<span id="cb345-3"><a href="oop-fundamentals.html#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.salary)</span>
<span id="cb345-4"><a href="oop-fundamentals.html#cb345-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 50000</span></span></code></pre></div>
<ul>
<li>so far so good. 對現在這個Employee來說，state已經有了，但behavior還沒。一個員工可能可以做哪些行為？我先幫他定義一個：被加薪！所以，現在我們來寫一個method叫<code>get_raise(amount)</code>，然後他的結果可以去更新原本state中的salary</li>
</ul>
<div class="sourceCode" id="cb346"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb346-1"><a href="oop-fundamentals.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb346-2"><a href="oop-fundamentals.html#cb346-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb346-3"><a href="oop-fundamentals.html#cb346-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb346-4"><a href="oop-fundamentals.html#cb346-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_name(<span class="va">self</span>, new_name):</span>
<span id="cb346-5"><a href="oop-fundamentals.html#cb346-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> new_name</span>
<span id="cb346-6"><a href="oop-fundamentals.html#cb346-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb346-7"><a href="oop-fundamentals.html#cb346-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_salary(<span class="va">self</span>, new_salary):</span>
<span id="cb346-8"><a href="oop-fundamentals.html#cb346-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.salary <span class="op">=</span> new_salary</span>
<span id="cb346-9"><a href="oop-fundamentals.html#cb346-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb346-10"><a href="oop-fundamentals.html#cb346-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># method</span></span>
<span id="cb346-11"><a href="oop-fundamentals.html#cb346-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> give_raise(<span class="va">self</span>, amount):</span>
<span id="cb346-12"><a href="oop-fundamentals.html#cb346-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.salary <span class="op">=</span> <span class="va">self</span>.salary <span class="op">+</span> amount</span></code></pre></div>
<div class="sourceCode" id="cb347"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb347-1"><a href="oop-fundamentals.html#cb347-1" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee()</span>
<span id="cb347-2"><a href="oop-fundamentals.html#cb347-2" aria-hidden="true" tabindex="-1"></a>emp.set_name(<span class="st">'Korel Rossi'</span>)</span>
<span id="cb347-3"><a href="oop-fundamentals.html#cb347-3" aria-hidden="true" tabindex="-1"></a>emp.set_salary(<span class="dv">50000</span>)</span>
<span id="cb347-4"><a href="oop-fundamentals.html#cb347-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-5"><a href="oop-fundamentals.html#cb347-5" aria-hidden="true" tabindex="-1"></a>emp.give_raise(<span class="dv">10000</span>)</span>
<span id="cb347-6"><a href="oop-fundamentals.html#cb347-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.salary)</span>
<span id="cb347-7"><a href="oop-fundamentals.html#cb347-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 60000</span></span></code></pre></div>
<ul>
<li>good，現在多寫一個method，是幫我們算他的月薪是多少</li>
</ul>
<div class="sourceCode" id="cb348"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb348-1"><a href="oop-fundamentals.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb348-2"><a href="oop-fundamentals.html#cb348-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb348-3"><a href="oop-fundamentals.html#cb348-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb348-4"><a href="oop-fundamentals.html#cb348-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_name(<span class="va">self</span>, new_name):</span>
<span id="cb348-5"><a href="oop-fundamentals.html#cb348-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> new_name</span>
<span id="cb348-6"><a href="oop-fundamentals.html#cb348-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb348-7"><a href="oop-fundamentals.html#cb348-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_salary(<span class="va">self</span>, new_salary):</span>
<span id="cb348-8"><a href="oop-fundamentals.html#cb348-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.salary <span class="op">=</span> new_salary</span>
<span id="cb348-9"><a href="oop-fundamentals.html#cb348-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb348-10"><a href="oop-fundamentals.html#cb348-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># method</span></span>
<span id="cb348-11"><a href="oop-fundamentals.html#cb348-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> give_raise(<span class="va">self</span>, amount):</span>
<span id="cb348-12"><a href="oop-fundamentals.html#cb348-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.salary <span class="op">=</span> <span class="va">self</span>.salary <span class="op">+</span> amount</span>
<span id="cb348-13"><a href="oop-fundamentals.html#cb348-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb348-14"><a href="oop-fundamentals.html#cb348-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> monthly_salary(<span class="va">self</span>):</span>
<span id="cb348-15"><a href="oop-fundamentals.html#cb348-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>.salary<span class="op">/</span><span class="dv">12</span></span></code></pre></div>
<div class="sourceCode" id="cb349"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb349-1"><a href="oop-fundamentals.html#cb349-1" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee()</span>
<span id="cb349-2"><a href="oop-fundamentals.html#cb349-2" aria-hidden="true" tabindex="-1"></a>emp.set_name(<span class="st">'Korel Rossi'</span>)</span>
<span id="cb349-3"><a href="oop-fundamentals.html#cb349-3" aria-hidden="true" tabindex="-1"></a>emp.set_salary(<span class="dv">50000</span>)</span>
<span id="cb349-4"><a href="oop-fundamentals.html#cb349-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-5"><a href="oop-fundamentals.html#cb349-5" aria-hidden="true" tabindex="-1"></a>emp.give_raise(<span class="dv">22000</span>)</span>
<span id="cb349-6"><a href="oop-fundamentals.html#cb349-6" aria-hidden="true" tabindex="-1"></a>mon_sal <span class="op">=</span> emp.monthly_salary()</span>
<span id="cb349-7"><a href="oop-fundamentals.html#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(mon_sal)</span>
<span id="cb349-8"><a href="oop-fundamentals.html#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6000.0</span></span></code></pre></div>
<ul>
<li>You might be wondering: why did we write these methods when all the same operations could have been performed on object attributes directly? Our code was very simple, but methods that deal only with attribute values often have pre-processing and checks built in: for example, maybe the company has a maximal allowable raise amount. Then it would be prudent to add a clause to the give_raise() method that checks whether the raise amount is within limits.</li>
</ul>
</div>
<div id="the-__init__-constructor" class="section level2" number="30.4">
<h2>
<span class="header-section-number">30.4</span> the <code>__init__</code> constructor<a class="anchor" aria-label="anchor" href="#the-__init__-constructor"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>剛剛學了這幾招：</p>
<ul>
<li>在class內定義function，就叫method，且第一個argument要設self</li>
<li>attribute也是用define function的方式做定義，只是最終都是assignment的方式，塞到<code>self.___</code>的變數中<br>
</li>
<li>在class內，要用到attribute時，都是用<code>self.___</code>的方式來call<br>
</li>
<li>realize一個object時，先call class name，再用attribute的function來做設定(例如設定Employee的name和salary)</li>
</ul>
</li>
<li><p>關於最後一點，其實有更好的作法，就是我們幹麻先realize完，又再用attribute的function去設定？何不在realize一個object的時候，就直接把這些attribute設定進去呢？這其實是可以的，就是使用__init__這個constructor，看個例子就懂了：</p></li>
</ul>
<div class="sourceCode" id="cb350"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb350-1"><a href="oop-fundamentals.html#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Customer:</span>
<span id="cb350-2"><a href="oop-fundamentals.html#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># attribute</span></span>
<span id="cb350-3"><a href="oop-fundamentals.html#cb350-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</span>
<span id="cb350-4"><a href="oop-fundamentals.html#cb350-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.name <span class="op">=</span> name <span class="co"># &lt;- Create the .name attribute and set it to name parameter</span></span>
<span id="cb350-5"><a href="oop-fundamentals.html#cb350-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The __init__ method was called"</span>)</span></code></pre></div>
<ul>
<li>現在，只要我用這個class去create一個object時，他就會自動啟動<code>__init__()</code>這個function，而這個function要用的argument，也是在你create object時就要傳入了：</li>
</ul>
<div class="sourceCode" id="cb351"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb351-1"><a href="oop-fundamentals.html#cb351-1" aria-hidden="true" tabindex="-1"></a>cust_lara <span class="op">=</span> Customer(name <span class="op">=</span> <span class="st">"Lara de Silvia"</span>)</span>
<span id="cb351-2"><a href="oop-fundamentals.html#cb351-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The __init__ method was called</span></span>
<span id="cb351-3"><a href="oop-fundamentals.html#cb351-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(cust_lara.name)</span>
<span id="cb351-4"><a href="oop-fundamentals.html#cb351-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Lara de Silvia</span></span></code></pre></div>
<ul>
<li>nice! 這其實才是最常用的作法。之前的作法，被稱為”Attributes in methods”，也就是我在class裡面，用定義method的方式(也就是定義function的方式)，來定義一個設定attribute的function。然後create object後，再去call這些function來一一設定attribute。而現在的方式，叫做”Attribute in the constructor”，就是我直接寫一個initialize的function在最前面：<code>__init__(self, all_attribute_list_here)</code>，然後逼迫我們在create object的時候，就要把這些設定值填進去，那你其實就是在一一create出各個獨特的object。這種作法更可讀(在class內，找init，就可以一次全覽所有attribute), 更快速(create object時同步搞定), 也更容維護。<br>
</li>
</ul>
</div>
<div id="寫class的sop" class="section level2" number="30.5">
<h2>
<span class="header-section-number">30.5</span> 寫Class的SOP<a class="anchor" aria-label="anchor" href="#%E5%AF%ABclass%E7%9A%84sop"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>最後，講一下寫class的best practices:</p>
<ul>
<li>Initialize attributes in <code>__init__()</code>
</li>
<li>命名時，class的命名都用<code>CamelCase</code>，就是單字在組合時，都是字首大寫，例如<code>class EmployeeWistron:</code>，class內定義function時，function name都是全小寫用底線串，例如<code>def employee_wistron():</code><br>
</li>
<li>Keep <code>self</code> as <code>self</code>。在class內定義function時，第一個argument都是留給self用的，如果你不寫self，要寫別的，例如kitty，也是可以work，你在class內要call這些attribute時，就記得用<code>kitty.___</code>就ok，但這樣別人看你的code時會很容易亂，所以還是建議，你就乖乖寫self就好。<br>
</li>
<li>最後，就像寫function一樣，寫class的時候，第一行也都會寫docstrings(功能註解)，幫助自己也幫助別人了解這個class的主要功能在幹麻</li>
</ul>
</li>
<li><p>接下來，我們就用學到的這些技巧，來重寫Employee的class。我們要用<code>__init__()</code>來設定name和salary這兩個attribute，而且，因為<code>__init__</code>就是寫function，所以，我們也可以給salary一個default值，例如GG的45000：</p></li>
</ul>
<div class="sourceCode" id="cb352"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb352-1"><a href="oop-fundamentals.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb352-2"><a href="oop-fundamentals.html#cb352-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create __init__() method</span></span>
<span id="cb352-3"><a href="oop-fundamentals.html#cb352-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, salary<span class="op">=</span><span class="dv">45000</span>):</span>
<span id="cb352-4"><a href="oop-fundamentals.html#cb352-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Create the name and salary attributes</span></span>
<span id="cb352-5"><a href="oop-fundamentals.html#cb352-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb352-6"><a href="oop-fundamentals.html#cb352-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.salary <span class="op">=</span> salary</span>
<span id="cb352-7"><a href="oop-fundamentals.html#cb352-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb352-8"><a href="oop-fundamentals.html#cb352-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># From the previous lesson</span></span>
<span id="cb352-9"><a href="oop-fundamentals.html#cb352-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> give_raise(<span class="va">self</span>, amount):</span>
<span id="cb352-10"><a href="oop-fundamentals.html#cb352-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.salary <span class="op">+=</span> amount</span>
<span id="cb352-11"><a href="oop-fundamentals.html#cb352-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-12"><a href="oop-fundamentals.html#cb352-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> monthly_salary(<span class="va">self</span>):</span>
<span id="cb352-13"><a href="oop-fundamentals.html#cb352-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.salary<span class="op">/</span><span class="dv">12</span></span></code></pre></div>
<div class="sourceCode" id="cb353"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb353-1"><a href="oop-fundamentals.html#cb353-1" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee(<span class="st">"Korel Rossi"</span>)</span>
<span id="cb353-2"><a href="oop-fundamentals.html#cb353-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.name)</span>
<span id="cb353-3"><a href="oop-fundamentals.html#cb353-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Korel Rossi</span></span>
<span id="cb353-4"><a href="oop-fundamentals.html#cb353-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.salary)</span>
<span id="cb353-5"><a href="oop-fundamentals.html#cb353-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 45000</span></span></code></pre></div>
<ul>
<li>nice，這邊又提醒，<code>__init__()</code>很適合拿來做data preprocessing。例如，這邊的薪水一定要&gt;=0，所以，如果在create object的時候，輸入負的薪水，我想要print出你key錯了，薪水要正的，並主動先幫他把薪水設成0</li>
</ul>
<div class="sourceCode" id="cb354"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb354-1"><a href="oop-fundamentals.html#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb354-2"><a href="oop-fundamentals.html#cb354-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb354-3"><a href="oop-fundamentals.html#cb354-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, salary<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb354-4"><a href="oop-fundamentals.html#cb354-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb354-5"><a href="oop-fundamentals.html#cb354-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Modify code below to check if salary is positive</span></span>
<span id="cb354-6"><a href="oop-fundamentals.html#cb354-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> salary<span class="op">&gt;=</span><span class="dv">0</span>:</span>
<span id="cb354-7"><a href="oop-fundamentals.html#cb354-7" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.salary <span class="op">=</span> salary</span>
<span id="cb354-8"><a href="oop-fundamentals.html#cb354-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb354-9"><a href="oop-fundamentals.html#cb354-9" aria-hidden="true" tabindex="-1"></a>            <span class="va">self</span>.salary <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb354-10"><a href="oop-fundamentals.html#cb354-10" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Invalid salary"</span>)</span>
<span id="cb354-11"><a href="oop-fundamentals.html#cb354-11" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb354-12"><a href="oop-fundamentals.html#cb354-12" aria-hidden="true" tabindex="-1"></a>   <span class="co"># From the previous lesson</span></span>
<span id="cb354-13"><a href="oop-fundamentals.html#cb354-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> give_raise(<span class="va">self</span>, amount):</span>
<span id="cb354-14"><a href="oop-fundamentals.html#cb354-14" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.salary <span class="op">+=</span> amount</span>
<span id="cb354-15"><a href="oop-fundamentals.html#cb354-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-16"><a href="oop-fundamentals.html#cb354-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> monthly_salary(<span class="va">self</span>):</span>
<span id="cb354-17"><a href="oop-fundamentals.html#cb354-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.salary<span class="op">/</span><span class="dv">12</span></span></code></pre></div>
<div class="sourceCode" id="cb355"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb355-1"><a href="oop-fundamentals.html#cb355-1" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee(<span class="st">"Korel Rossi"</span>, <span class="op">-</span><span class="dv">1000</span>)</span>
<span id="cb355-2"><a href="oop-fundamentals.html#cb355-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Invalid salary</span></span>
<span id="cb355-3"><a href="oop-fundamentals.html#cb355-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.name)</span>
<span id="cb355-4"><a href="oop-fundamentals.html#cb355-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Korel Rossi</span></span>
<span id="cb355-5"><a href="oop-fundamentals.html#cb355-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.salary)</span>
<span id="cb355-6"><a href="oop-fundamentals.html#cb355-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0</span></span></code></pre></div>
<ul>
<li>最後，如果我想使用其他package的function時怎麼辦？我要import在class外面還是裡面？答案是：外面！！以下舉個例子，我想要多加一個attribute叫hire_date，他可以在我建立這個employee的object時，直接assign當天日期進去。所以，我需要用到<code>datetime</code>這個package裡面的function，叫<code>today()</code>。請見以下範例：</li>
</ul>
<div class="sourceCode" id="cb356"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb356-1"><a href="oop-fundamentals.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import datetime from datetime</span></span>
<span id="cb356-2"><a href="oop-fundamentals.html#cb356-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb356-3"><a href="oop-fundamentals.html#cb356-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-4"><a href="oop-fundamentals.html#cb356-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Employee:</span>
<span id="cb356-5"><a href="oop-fundamentals.html#cb356-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb356-6"><a href="oop-fundamentals.html#cb356-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name, salary<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb356-7"><a href="oop-fundamentals.html#cb356-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.name <span class="op">=</span> name</span>
<span id="cb356-8"><a href="oop-fundamentals.html#cb356-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> salary <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb356-9"><a href="oop-fundamentals.html#cb356-9" aria-hidden="true" tabindex="-1"></a>          <span class="va">self</span>.salary <span class="op">=</span> salary</span>
<span id="cb356-10"><a href="oop-fundamentals.html#cb356-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb356-11"><a href="oop-fundamentals.html#cb356-11" aria-hidden="true" tabindex="-1"></a>          <span class="va">self</span>.salary <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb356-12"><a href="oop-fundamentals.html#cb356-12" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(<span class="st">"Invalid salary!"</span>)</span>
<span id="cb356-13"><a href="oop-fundamentals.html#cb356-13" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb356-14"><a href="oop-fundamentals.html#cb356-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Add the hire_date attribute and set it to today's date</span></span>
<span id="cb356-15"><a href="oop-fundamentals.html#cb356-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.hire_date <span class="op">=</span> datetime.today()</span>
<span id="cb356-16"><a href="oop-fundamentals.html#cb356-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb356-17"><a href="oop-fundamentals.html#cb356-17" aria-hidden="true" tabindex="-1"></a>   <span class="co"># From the previous lesson</span></span>
<span id="cb356-18"><a href="oop-fundamentals.html#cb356-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> give_raise(<span class="va">self</span>, amount):</span>
<span id="cb356-19"><a href="oop-fundamentals.html#cb356-19" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.salary <span class="op">+=</span> amount</span>
<span id="cb356-20"><a href="oop-fundamentals.html#cb356-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-21"><a href="oop-fundamentals.html#cb356-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> monthly_salary(<span class="va">self</span>):</span>
<span id="cb356-22"><a href="oop-fundamentals.html#cb356-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">self</span>.salary<span class="op">/</span><span class="dv">12</span></span>
<span id="cb356-23"><a href="oop-fundamentals.html#cb356-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb356-24"><a href="oop-fundamentals.html#cb356-24" aria-hidden="true" tabindex="-1"></a>emp <span class="op">=</span> Employee(<span class="st">"Korel Rossi"</span>, <span class="op">-</span><span class="dv">1000</span>)</span>
<span id="cb356-25"><a href="oop-fundamentals.html#cb356-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Invalid salary!</span></span>
<span id="cb356-26"><a href="oop-fundamentals.html#cb356-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.name)</span>
<span id="cb356-27"><a href="oop-fundamentals.html#cb356-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Korel Rossi</span></span>
<span id="cb356-28"><a href="oop-fundamentals.html#cb356-28" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.salary)</span>
<span id="cb356-29"><a href="oop-fundamentals.html#cb356-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0</span></span>
<span id="cb356-30"><a href="oop-fundamentals.html#cb356-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(emp.hire_date)</span>
<span id="cb356-31"><a href="oop-fundamentals.html#cb356-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2022-01-08 17:45:51.802810</span></span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="functional-programming.html"><span class="header-section-number">29</span> functional programming</a></div>
<div class="next"><a href="class-level-vs-instance-level.html"><span class="header-section-number">31</span> Class-level vs Instance-level</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#oop-fundamentals"><span class="header-section-number">30</span> OOP Fundamentals</a></li>
<li><a class="nav-link" href="#what-is-oop"><span class="header-section-number">30.1</span> What is OOP?</a></li>
<li><a class="nav-link" href="#oop-in-python"><span class="header-section-number">30.2</span> OOP in Python</a></li>
<li><a class="nav-link" href="#my-first-class"><span class="header-section-number">30.3</span> My first class</a></li>
<li><a class="nav-link" href="#the-__init__-constructor"><span class="header-section-number">30.4</span> the __init__ constructor</a></li>
<li><a class="nav-link" href="#%E5%AF%ABclass%E7%9A%84sop"><span class="header-section-number">30.5</span> 寫Class的SOP</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/rstudio/bookdown-demo/blob/master/oop_fundamentals.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/rstudio/bookdown-demo/edit/master/oop_fundamentals.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Python Tutorial</strong>" was written by Hank Lee. It was last built on 2022-01-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
